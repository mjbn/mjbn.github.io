
{%- assign default_paths = site.pages | map: "path" -%}
{%- assign page_paths = site.header_pages | default: default_paths -%}

<header class="">
  <!-- Navbar -->
  <nav class="bg-white dark:bg-[#1f2335] shadow-md sticky top-0 z-50" x-data="{menuOpen:false}">
    <div class="max-w-7xl mx-auto px-4 py-3 flex justify-between items-center">
      <a href="/" class="text-xl font-bold text-[var(--accent-blue)]">TokyoNight</a>
      <div class="hidden md:flex space-x-4 items-center">
        <a href="/store/" class="hover:text-[var(--accent-pink)]">Store</a>
        <a href="/blog/" class="hover:text-[var(--accent-pink)]">Blog</a>
        <a href="/novel/" class="hover:text-[var(--accent-pink)]">Novels</a>
        <a href="/about/" class="hover:text-[var(--accent-pink)]">About</a>
      </div>
      <div class="space-x-4 hidden md:flex items-center">
        <!-- Cart Button -->
        <button x-show="showcart" @click="$store.cart.open = !$store.cart.open" class="relative px-3 py-1 bg-[var(--accent-blue)] text-white rounded-lg ml-4">
          🛒 Cart
          <span x-text="$store.cart.cart.length" class="absolute -top-2 -right-2 bg-[var(--accent-pink)] text-white text-xs rounded-full w-5 h-5 flex items-center justify-center"></span>
        </button>
        <!-- Dark Mode Toggle -->
        <button @click="darkMode = !darkMode" class="px-3 py-1 bg-[var(--accent-purple)] text-white rounded-lg ml-2">
          <span x-show="darkMode">🌙 Dark</span>
          <span x-show="!darkMode">☀️ Light</span>
        </button>
	<a href="/login/" class="px-3 py-1 bg-[var(--accent-purple)] text-white rounded-lg ml-2">
          <span>Login</span>
        </a>
      </div>
      <button @click="menuOpen = !menuOpen" class="sm:show md:hidden text-[var(--accent-blue)] text-2xl">☰</button>
    </div>

    <div x-show="menuOpen" x-transition class="bg-[#1f2335] text-[var(--text-dark)] md:hidden sm:show">
      <a href="store.html" class="block px-4 py-2 hover:bg-[#24283b]">Store</a>
      <a href="blog.html" class="block px-4 py-2 hover:bg-[#24283b]">Blog</a>
      <a href="novels.html" class="block px-4 py-2 hover:bg-[#24283b]">Novels</a>
      <a href="about.html" class="block px-4 py-2 hover:bg-[#24283b]">About</a>
      <a href="cart.html" class="block px-4 py-2 hover:bg-[#24283b]">🛒 Cart</a>
      <button @click="darkMode = !darkMode" class="block w-full text-left px-4 py-2 bg-[var(--accent-purple)] mt-2">Toggle Dark Mode</button>
    </div>
  </nav>
</header>
