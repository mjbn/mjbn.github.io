---
# Feel free to add content and custom Front Matter to this file.
# To modify the layout, see https://jekyllrb.com/docs/themes/#overriding-theme-defaults

layout: storedefault
permalink: /store/cart/
---
  <!-- Cart Section -->
  <section class="max-w-6xl mx-auto px-6 py-12">
    <h1 class="text-3xl font-bold mb-8 text-[var(--accent-blue)]">ðŸ›’ Your Cart</h1>

    <template x-if="$store.cart.cart.length === 0">
      <p class="text-gray-500">Your cart is empty. <a href="/store/" class="text-[var(--accent-pink)]">Go shopping â†’</a></p>
    </template>

    <template x-if="$store.cart.cart.length > 0">
      <div class="grid gap-6">
        <template x-for="(item, index) in $store.cart.cart" :key="item.id">
          <div class="flex justify-between items-center p-4 bg-white dark:bg-[#24283b] rounded-xl shadow">
            <div>
              <h2 class="font-semibold text-[var(--accent-blue)]" x-text="item.name"></h2>
              <p class="text-sm text-gray-400" x-text="'$'+item.price.toFixed(2)"></p>
              <div class="flex items-center space-x-2 mt-1">
                <button @click="$store.cart.updateQuantity(index, -1)" class="px-2 py-1 bg-gray-300 dark:bg-gray-600 rounded">-</button>
                <span x-text="item.quantity"></span>
                <button @click="$store.cart.updateQuantity(index, 1)" class="px-2 py-1 bg-gray-300 dark:bg-gray-600 rounded">+</button>
              </div>
            </div>
            <button @click="$store.cart.removeFromCart(index)" class="text-[var(--accent-pink)] font-bold">Ã—</button>
          </div>
        </template>

        <div class="text-right mt-4">
          <p class="font-bold text-xl mb-4">Total: $<span x-text="$store.cart.cartTotal().toFixed(2)"></span></p>
          <a href="/store/checkout/" class="inline-block bg-[var(--accent-pink)] text-white px-6 py-2 rounded-lg">Proceed to Checkout â†’</a>
        </div>
      </div>
    </template>
  </section>


  <!-- Alpine.js Cart Logic -->
  <script>
    function cartApp() {
      return {
        darkMode: true,
        cart: [],
        loadCart() {
          let stored = localStorage.getItem('cart');
          if(stored) this.cart = JSON.parse(stored);
        },
        saveCart() {
          localStorage.setItem('cart', JSON.stringify(this.cart));
        },
        removeFromCart(index) {
          this.cart.splice(index,1);
          this.saveCart();
        },
        updateQuantity(index, delta) {
          let item = this.cart[index];
          item.quantity += delta;
          if(item.quantity < 1) this.cart.splice(index,1);
          this.saveCart();
        },
        cartTotal() {
          return this.cart.reduce((sum,item) => sum + item.price*item.quantity,0);
        }
      }
    }
  </script>
</body>
</html>

